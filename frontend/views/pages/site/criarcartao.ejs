<body>
    
    <link rel="stylesheet" href="/public">
 
    <section class=" container-fluid   d-flex justify-content-center align-items-center">
    <div class="col-12  col-md-12 col-lg-12">
        <div class="w-100 bg-light custom-shadow  ">
    
            <div class="bg-black">
                <h1 class="pb-5 text-light text-center  pt-4 pb-5 text-light text-center mb-5">CRIAÇÃO DE CARTÃO
                </h1>
    
            </div>
    
          
            <div class="  rounded-bottom-4">
                <div class="container">
                    <h4>Formulario para criação de cadastro</h4>
                    <form action="pastadestino.php" method="POST" class="mx-auto my-4">
                        <!-- O restante do seu formulário aqui -->
            
             <form  claaction="pastadestino.php" method="POST">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="inputName">Nome Completo</label>
                        <input type="text" id="inputName" class="form-control" placeholder="" required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="inputEmail4">Email</label>
                        <input type="email" class="form-control" id="inputEmail4" placeholder="" required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="inputPassword4">Senha </label>
                        <input type="password" class="form-control" id="inputPassword4" placeholder=""required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="inputPassword4"> Repita a Senha</label>
                        <input type="password" class="form-control" id="inputPassword4" placeholder="" required>
                    </div>
                </div>
                <h5 class="mt-4">Adicione seu enderço</h5>
    <!-- cidade codigo cep -->
        <form>
            <input type="text" name="cep" id="cep" placeholder="CEP">
    
            <input type="text" name="cidade" id="cidade" placeholder="Cidade">
            
    
            <input type="submit" value="Buscar">
        </form>
    
        <div id="resultados"></div>
    
        <script>
            const formulario = document.querySelector("form");
            const resultados = document.querySelector("#resultados");
    
            formulario.addEventListener("submit", async (event) => {
                event.preventDefault();
    
                const cep = formulario.cep.value;
    
                try {
                    const response = await fetch(`https://brasilapi.com.br/api/cep/v1/${cep}`);
                    // console.log(response);
    
                    if (response.ok) {
                        const data = await response.json();
                        // console.log(data);
    
                        resultados.innerHTML = `
                        <ul>
                            <li>CEP: ${data.cep}</li>
                            <li>Cidade: ${data.city}</li>
                            <li>Bairro: ${data.neighborhood}</li>
                            <li>Estado: ${data.state}</li>
                            <li>Rua: ${data.street}</li>
                        </ul>`;
    
                        formulario.cidade.value = data.city;
                    
                    } else {
                        resultados.innerHTML = `<p>O CEP ${cep} é inválido.</p>`;
                    }
                } catch (error) {
                    console.error(error);
                    resultados.innerHTML = "<p>Erro ao buscar CEP.</p>";
                }
            });
        </script>
                
                    
                    <div class="form-group col-md-4">
                        <label for="inputState">Estado</label>
                        <select id="inputState" class="form-control" required>
                            <option selected hidden>Escolha...</option>
                            <option value="AC">Acre</option>
                            <option value="AL">Alagoas</option>
                            <option value="AP">Amapá</option>
                            <option value="AM">Amazonas</option>
                            <option value="BA">Bahia</option>
                            <option value="CE">Ceará</option>
                            <option value="DF">Distrito Federal</option>
                            <option value="ES">Espírito Santo</option>
                            <option value="GO">Goiás</option>
                            <option value="MA">Maranhão</option>
                            <option value="MT">Mato Grosso</option>
                            <option value="MS">Mato Grosso do Sul</option>
                            <option value="MG">Minas Gerais</option>
                            <option value="PA">Pará</option>
                            <option value="PB">Paraíba</option>
                            <option value="PR">Paraná</option>
                            <option value="PE">Pernambuco</option>
                            <option value="PI">Piauí</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="RN">Rio Grande do Norte</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="RO">Rondônia</option>
                            <option value="RR">Roraima</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="SP">São Paulo</option>
                            <option value="SE">Sergipe</option>
                            <option value="TO">Tocantins</option>
                        </select>
                    </div>
                </div>
                <div class="botao text-center">
                    <button type="submit" class="btn   mt-4 mb-5 btn btn-warning btn-md rounded-5 border-0  custom-shadow  text-black font-weight-bold m-2 text-center">CRIAR CARTÃO</button>
                  </div>
              </div>
               
            </form>
           
                    </form>
                </div>   
        </div></div>
    </section>
       




    
<!-- abaixo temos o codigo NÃO FUNCIONAL  do cadastrar -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {


    const form = document.querySelector('#formulario');
    form.addEventListener('submit', async (event) => {
      event.preventDefault()


      try {
        const formData = new FormData(form);
        const data = {
          nome: formData.get('nome'),
        };

        const response = await axios.post('http://127.0.0.1:5000/cliente/cadastrar', data);
        alert("cadastrou")
        // window.location.href = '/entrar';
      } catch (error) {
        console.error("Erro ao enviar requisição:", error);
        alert("deu ruim");
      }

      // form.classList.add('was-validated')
    }, false)
  });
</script>

