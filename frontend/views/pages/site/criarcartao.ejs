<body>

    <link rel="stylesheet" href="/public">

    <section class=" container-fluid   d-flex justify-content-center align-items-center">
        <div class="col-12  col-md-12 col-lg-12">
            <div class="w-100 bg-light custom-shadow  ">

                <div class="bg-black">
                    <h1 class="pb-5 text-light text-center  pt-4 pb-5 text-light text-center mb-5">CRIAÇÃO DE CARTÃO
                    </h1>

                </div>


                <div class="  rounded-bottom-4">
                    <div class="container">
                        <h4>Formulario para criação de cadastro</h4>
                        <form action="" method="POST" class="mx-auto my-4">
                            <!-- O restante do seu formulário aqui -->

                            <form claaction="pastadestino.php" method="POST">
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="inputName">Nome Completo</label>
                                        <input type="text" id="inputName" class="form-control" placeholder="" required>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">Email</label>
                                        <input type="email" class="form-control" id="inputEmail4" placeholder=""
                                            required>
                                    </div>
                                    <div class="form-group col-md-6 mb-5 pb-3">
                                        <label for="inputPassword4">CPF </label>
                                        <input type="password" class="form-control" id="inputPassword4" placeholder=""
                                            required>
                                    </div>
                                    <div class="form-group col-md-6 mb-5 pb-3">
                                        <label for="inputPassword4">CPF </label>
                                        <input type="password" class="form-control" id="inputPassword4" placeholder=""
                                            required>
                                    </div>




                                    

                                   
                                    <!-- cidade codigo cep -->
                                    <form class="row g-3">
                                        <h5 class="mt-5 pt-5 mr-5 pr-5 ">Adicione seu enderço</h5>
                                        <div class="col-md-6">
                                            <input class="form-control rounded-3 mb-3" type="text" name="cep" id="cep" placeholder="CEP ">
                                        </div>
                                        <div class="col-md-6">
                                            <input class="form-control rounded-3  mb-3" type="text" name="estado" id="estado" placeholder="Estado"disabled>
                                        </div>
                                        <div class="col-md-6">
                                            <input class="form-control rounded-3  mb-3" type="text" name="cidade" id="cidade" placeholder="Cidade"disabled>
                                        </div>
                                        <div class="col-md-6">
                                            <input class="form-control rounded-3  mb-3" type="text" name="bairro" id="bairro" placeholder="Bairro"disabled>
                                        </div>
                                        <div class="col-md-6">
                                            <input class="form-control rounded-3  mb-3" type="text" name="rua" id="rua" placeholder="Rua"disabled>
                                        </div>
                                        <div class="col-md-12">
                                            <button type="submit" class="btn btn-primary">Buscar</button>
                                        </div>
                                    </form>

                                    









                                    <!-- api de cep -->
                                    <script>
                                        const formulario = document.querySelector("form");
                                        const resultados = document.querySelector("#resultados");

                                        formulario.addEventListener("submit", async (event) => {
                                            event.preventDefault();

                                            const cep = formulario.cep.value;

                                            try {
                                                const response = await fetch(`https://brasilapi.com.br/api/cep/v1/${cep}`);
                                                // console.log(response);

                                                if (response.ok) {
                                                    const data = await response.json();
                                                    // console.log(data);

                    
                                                    formulario.cidade.value = data.city;
                                                    formulario.estado.value = data.state;
                                                    formulario.bairro.value = data.neighborhood;
                                                    formulario.rua.value = data.street;
                                                    
                    

                                                } else {
                                                    resultados.innerHTML = `<p>O CEP ${cep} é inválido.</p>`;
                                                }
                                            } catch (error) {
                                                console.error(error);
                                                resultados.innerHTML = "<p>Erro ao buscar CEP.</p>";
                                            }
                                        });
                                    </script>


                                    <div class="botao text-center">
                                        <button type="submit"
                                            class="btn   mt-4 mb-5 btn btn-warning btn-md rounded-5 border-0  custom-shadow  text-black font-weight-bold m-2 text-center">CRIAR
                                            CARTÃO</button>
                                    </div>
                                </div>

                            </form>

                        </form>
                    </div>
                </div>
            </div>
    </section>






    <!-- abaixo temos o codigo NÃO FUNCIONAL  do cadastrar -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {


            const form = document.querySelector('#formulario');
            form.addEventListener('submit', async (event) => {
                event.preventDefault()


                try {
                    const formData = new FormData(form);
                    const data = {
                        nome: formData.get('nome'),
                    };

                    const response = await axios.post('http://127.0.0.1:5000/cliente/cadastrar', data);
                    alert("cadastrou")
                    // window.location.href = '/entrar';
                } catch (error) {
                    console.error("Erro ao enviar requisição:", error);
                    alert("deu ruim");
                }

                // form.classList.add('was-validated')
            }, false)
        });
    </script>